(()=>{"use strict";var t={55:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=o(267),i=o(731),a=r(o(395)),n=r(o(373));class h extends n.default{constructor(t){super(t),this.animationStartTime=-1,this.animationCurTime=-1,this.animationFrameId=-1,this.events=[],this.animationFPS=60,this.canvasSize={height:500,width:500},this.bgColor="#0b0f1a",this.bgGridStyle={origin:{y:this.canvasSize.height/2,x:this.canvasSize.width/2},grid:{height:80,width:80},color:"#111829",lineWidth:1},this.controller=new AbortController,this.signal=this.controller.signal}display(){this.root.innerHTML='\n            <section class="screen-game">\n                <h1>Graph to Plain!</h1>\n                <canvas id="game_playground"></canvas>\n                <p id="info"></p>\n            </section>',this.gameScreen=document.getElementById("game_playground"),this.textInfo=document.getElementById("info"),this.controller=new AbortController,this.signal=this.controller.signal,this.events=[];const t=this.gameScreen.getContext("2d");this.ctx=t;const{height:e,width:o}=this.canvasSize;this.gameScreen.height=e,this.gameScreen.width=o,this.stopwatch=new i.NeonStopwatch(t,o-180-10,e-48-10,180,48);const r=s.manager.state.settings.cntNode,a=this.createPlaneGraph("LeftRight",t,r);a.loop(0),this.settingCanvasEvent(a),this.animationStartTime=performance.now();const n=e=>{var o;const r=e;-1==this.animationCurTime&&(this.animationCurTime=r),r-this.animationCurTime>1e3/this.animationFPS&&(this.animationCurTime=r,t.clearRect(0,0,this.canvasSize.height,this.canvasSize.width),this.drawBackground(),a.loop(this.animationCurTime),null===(o=this.stopwatch)||void 0===o||o.draw(e-this.animationStartTime)),this.animationFrameId=requestAnimationFrame(n)};this.animationFrameId=requestAnimationFrame(n)}createPlaneGraph(t,e,o){if("LeftRight"===t)return(new a.default).create(e,o)}drawBackground(){const{height:t,width:e}=this.canvasSize,{origin:o,grid:r,color:s,lineWidth:i}=this.bgGridStyle,a=this.ctx;if(!a)throw new Error("Property is unsetted");a.fillStyle=this.bgColor,a.fillRect(0,0,e,t);for(let t=0;o.x+r.width*t<=e;t++)this.drawVerticalLine(o.x+r.width*t,s,i,a);for(let t=1;o.x-r.width*t>=0;t++)this.drawVerticalLine(o.x-r.width*t,s,i,a);for(let e=0;o.y+r.height*e<=t;e++)this.drawHorizontalLine(o.y+r.height*e,s,i,a);for(let t=1;o.y-r.height*t>=0;t++)this.drawHorizontalLine(o.y-r.height*t,s,i,a)}drawVerticalLine(t,e,o,r){r.strokeStyle=e,r.lineWidth=o,r.beginPath(),r.moveTo(t,0),r.lineTo(t,this.canvasSize.height),r.stroke()}drawHorizontalLine(t,e,o,r){r.strokeStyle=e,r.lineWidth=o,r.beginPath(),r.moveTo(0,t),r.lineTo(this.canvasSize.width,t),r.stroke()}settingCanvasEvent(t){if(!this.gameScreen)throw new Error("Property is unsetted");let e=!1,o=0,r=0,s=0,i=0,a=null;this.setEvent(this.gameScreen,"mousedown",n=>{if(!this.gameScreen)throw new Error("Property is unsetted");const h=this.gameScreen.getBoundingClientRect(),l=n.clientX-h.left,d=n.clientY-h.top;o=l,r=d,a=t.getClosestNode(l,d),a&&(a.status="drag");const c=null==a?void 0:a.getPos();null!=c&&(s=c[0],i=c[1]),e=!0},{signal:this.signal}),this.setEvent(this.root,"mousemove",t=>{if(!e)return;if(!this.gameScreen)throw new Error("Property is unsetted");const n=this.gameScreen.getBoundingClientRect(),h=t.clientX-n.left,l=t.clientY-n.top,d=Math.min(Math.max(h-o+s,18),this.canvasSize.width-18),c=Math.min(Math.max(l-r+i,18),this.canvasSize.height-18);null==a||a.setPos(d,c)}),this.setEvent(this.root,"mouseup",o=>{e&&(a&&(a.status="normal"),e=!1,t.checkCrossedGraph()||this.finishGame(t))})}setEvent(t,e,o,r){r?(t.addEventListener(e,o,r),this.events.push([t,e,o,r])):(t.addEventListener(e,o),this.events.push([t,e,o,null]))}finishGame(t){this.controller.abort(),cancelAnimationFrame(this.animationFrameId),t.drawClearedGraph();for(const t of this.events)t[3]?t[0].removeEventListener(t[1],t[2],t[3]):t[0].removeEventListener(t[1],t[2]);s.manager.state.result.timeMs=-1,s.manager.goto("result")}}e.default=h},108:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=o(267),i=r(o(373));class a extends i.default{constructor(t){super(t)}display(){this.root.innerHTML='\n            <section class="screen-result">\n                <h2>結果</h2>\n\n                \x3c!-- 概要カード --\x3e\n                <article id="result-summary" aria-busy="true">\n                    \x3c!-- タイトル・要約などを動的に挿入 --\x3e\n                </article>\n\n                \x3c!-- メトリクス（任意数のKPIを自由に表示） --\x3e\n                <h3>メトリクス</h3>\n                <table id="result-metrics">\n                    <thead>\n                        <tr><th>項目</th><th>値</th></tr>\n                    </thead>\n                    <tbody>\n                        \x3c!-- 動的に挿入 --\x3e\n                    </tbody>\n                </table>\n\n                \x3c!-- セクション（任意数、配列で増減可能） --\x3e\n                <div id="result-sections">\n                    \x3c!-- 動的に <article> や <details> を追加 --\x3e\n                </div>\n\n                <footer style="margin-top:1rem;">\n                    <button type="button" id="btn_retry">もう一度</button>\n                    <button type="button" id="btn_backtitle" class="secondary">タイトルへ</button>\n                </footer>\n            </section>',document.getElementById("btn_retry").addEventListener("click",()=>{s.manager.goto("game")}),document.getElementById("btn_backtitle").addEventListener("click",()=>{s.manager.goto("title")})}}e.default=a},267:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.manager=void 0;const s=r(o(506)),i=document.getElementById("page");e.manager=new s.default(i,"title")},373:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.root=t}display(){this.root.innerText="DEFAULT PAGE"}}},395:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=o(407);e.default=class{create(t,e){const o=new r.Graph(t),s=e;let i=null;for(let e=0;e<s;e++){let s=460*Math.random()+20,a=460*Math.random()+20;const n=new r.GraphNode(t,s,a,e);o.addGraphElement(n),0==this.getRandint(0,2)&&null!=i&&o.addGraphElement(new r.GraphEdge(t,i,n)),i=n}const a=o.getNodes(),n=this.createPlanegraphEdges(s);for(const e of n)o.addGraphElement(new r.GraphEdge(t,a[e[0]],a[e[1]]));return o}createPlanegraphEdges(t){let e=[],o=[],r=0;for(;r<1e3;){const s=0==this.getRandint(0,2),i=this.getRandint(0,t-2),a=[i,this.getRandint(i+2,t)];if(s&&this.checkCrossing(e,a))e.push(a);else{if(!this.checkCrossing(o,a)){r++;continue}o.push(a)}r=0}return console.log(e.sort()),console.log("-----"),console.log(o.sort()),e.concat(o)}checkCrossing(t,e){for(const o of t){const t=o[0]<=e[0]&&e[1]<=o[1],r=e[0]<=o[0]&&o[1]<=e[1];if(e[0]==o[0]&&o[1]==e[1]||!t&&!r)return!1}return!0}getRandint(t,e){if(t>e){const o=t;t=e,e=o}return Math.floor(Math.random()*(e-t))+t}}},407:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.GraphEdge=e.GraphNode=void 0;const r=o(613);class s{loop(t){}}class i extends s{constructor(t,e,o,r){super(),this.lastDragedTime=-1,this.prevStatus="normal",this.status="normal",this.graphicGlow=document.createElement("canvas"),this.graphicShadow=document.createElement("canvas"),this.neonColor={core:"#00e5ff",ring:"#0083c4",glowInner:"rgba(0,229,255,0.85)",glowOuter:"rgba(0,229,255,0.0)"},this.neonStyle={radius:18,ringWidth:5,glowRadius:30,pulse:!0,pulsePeriodMS:2e3},this.ctx=t,this.center_x=e,this.center_y=o,this.id=r;const{glowInner:s,glowOuter:i}=this.neonColor,{radius:a,glowRadius:n}=this.neonStyle;this.graphicGlow.height=2*n,this.graphicGlow.width=2*n;const h=n,l=n,d=this.graphicGlow.getContext("2d"),c=d.createRadialGradient(h,l,0,h,l,n);c.addColorStop(0,s),c.addColorStop(1,i),d.fillStyle=c,d.beginPath(),d.arc(h,l,n,0,2*Math.PI),d.fill(),this.graphicShadow.height=2*n,this.graphicShadow.width=2*n;const g=this.graphicShadow.getContext("2d"),p=g.createRadialGradient(h,l,0,h,l,n);p.addColorStop(0,"rgba(255,225,255,0)"),p.addColorStop(.15,"rgba(255,225,255,0.02)"),p.addColorStop(1,"rgba(255,225,255,0.7)"),g.fillStyle=p,g.beginPath(),g.arc(h,l,a,0,2*Math.PI),g.fill()}getPos(){return[this.center_x,this.center_y]}setPos(t,e){this.center_x=t,this.center_y=e}getDist(t,e){return Math.sqrt((this.center_x-t)**2+(e-this.center_y)**2)}loop(t){"drag"==this.prevStatus&&"normal"==this.status&&(this.lastDragedTime=t),this.prevStatus=this.status,this.draw(t)}draw(t){const e=this.ctx,o=this.center_x,r=this.center_y,{core:s,ring:i}=this.neonColor,{radius:a,ringWidth:n,glowRadius:h,pulse:l,pulsePeriodMS:d}=this.neonStyle,c=l?1+.1*Math.cos((t-this.lastDragedTime)/d*Math.PI*2):1,g=h*("drag"===this.status?1.1:c);e.save(),e.globalCompositeOperation="lighter",e.drawImage(this.graphicGlow,o-g,r-g,2*g,2*g),e.restore(),e.fillStyle=s,this.ctx.beginPath(),this.ctx.arc(o,r,a,0,2*Math.PI),this.ctx.fill(),e.strokeStyle=i,e.lineWidth=n,e.beginPath(),e.arc(o,r,.375*a+n,0,2*Math.PI),e.stroke(),e.save(),e.globalCompositeOperation="lighter",e.drawImage(this.graphicShadow,o-h,r-h,2*h,2*h),e.restore()}}e.GraphNode=i;class a extends s{constructor(t,e,o){super(),this.status="normal",this.normalStyle={coreAlpha:.3,coreWidth:1,colorWidth:3,solvedBoost:1.2,dash:{pattern:[7,7],speed:10},bright:{span:200,speed:100,colorBright:"#40efffff",colorDim:"#00262bff"}},this.alertStyle={coreAlpha:.3,coreWidth:1,colorWidth:3,solvedBoost:1.2,dash:{pattern:[7,7],speed:0},bright:{span:200,speed:0,colorBright:"#926900ff",colorDim:"#926900ff"}},this.ctx=t,this.node1=e,this.node2=o}loop(t){this.draw(t)}draw(t){const[e,o]=this.node1.getPos(),[r,s]=this.node2.getPos(),{coreAlpha:i,coreWidth:a,colorWidth:n,solvedBoost:h,dash:l,bright:d}="alert"==this.status?this.alertStyle:this.normalStyle,c=this.ctx;c.save();const g=Math.atan2(s-o,r-e);c.globalCompositeOperation="lighter",c.translate(e,o),c.rotate(g);const p=Math.sqrt((r-e)*(r-e)+(s-o)*(s-o)),u=c.createLinearGradient(0,0,p,0),f=t/1e3*d.speed,m=f-Math.floor(f/d.span)*d.span;for(let t=0;;t++){if(d.span/2*t-m>p){const e=t-1,o=Math.round((1-(d.span/2*e-m)/p)/(d.span/2/p)*100);e%2==0?u.addColorStop(1,`color-mix(in srgb, ${d.colorBright} ${o}%, ${d.colorDim})`):u.addColorStop(1,`color-mix(in srgb, ${d.colorDim} ${o}%, ${d.colorBright})`);break}if(d.span/2*t-m<0){if(0<=d.span/2*(t+1)-m){const e=Math.round(-(d.span/2*t-m)/p/(d.span/2/p)*100);t%2==0?u.addColorStop(0,`color-mix(in srgb, ${d.colorBright} ${e}%, ${d.colorDim})`):u.addColorStop(0,`color-mix(in srgb, ${d.colorDim} ${e}%, ${d.colorBright})`)}}else u.addColorStop((d.span/2*t-m)/p,t%2==0?d.colorDim:d.colorBright)}c.fillStyle=u,c.fillRect(0,-n*h/2,p,n*h),c.restore(),c.save(),c.strokeStyle="#0b0f1a",c.lineWidth=n*h*1.2,c.lineDashOffset=-t/1e3*l.speed,c.setLineDash(l.pattern),this.strokeLine(c,e,o,r,s),c.restore(),c.save(),c.globalCompositeOperation="source-over",c.strokeStyle=`rgba(255,255,255,${i})`,c.lineWidth=a,this.strokeLine(c,e,o,r,s),c.restore()}strokeLine(t,e,o,r,s){t.beginPath(),t.moveTo(e,o),t.lineTo(r,s),t.stroke()}checkCrossed(t){const[e,o]=this.node1.getPos(),[r,s]=this.node2.getPos(),[i,a]=t.node1.getPos(),[n,h]=t.node2.getPos();if(((e-r)*(a-o)-(o-s)*(i-e))*((e-r)*(h-o)-(o-s)*(n-e))>0)return null;if(((i-n)*(o-a)-(a-h)*(e-i))*((i-n)*(s-a)-(a-h)*(r-i))>0)return null;const l=((o-h)*(i-n)-(e-n)*(a-h))/((o-s)*(i-n)-(e-r)*(a-h));return{y:l*(s-o)+o,x:l*(r-e)+e}}checkNeighbor(t){return this.node1==t.node1||this.node1==t.node2||this.node2==t.node1||this.node2==t.node2}}e.GraphEdge=a,e.Graph=class{constructor(t){this.graphNodes=[],this.graphEdges=[],this.spackRenderer=new r.SparkRenderer,this.graphicGlow=document.createElement("canvas"),this.ctx=t,this.spackRenderer.ctx=t;const e=this.graphicGlow;e.width=e.height=64;const o=e.getContext("2d"),s=o.createRadialGradient(32,32,0,32,32,24);s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=s,o.beginPath(),o.arc(32,32,24,0,2*Math.PI),o.fill(),this.graphicGlow=e}getNodes(){return this.graphNodes}getCtx(){return this.ctx}addGraphElement(t){t instanceof i?this.graphNodes.push(t):t instanceof a&&this.graphEdges.push(t)}updateEdgeStatus(){const t=this.checkCrossedEdges(),e=this.graphEdges.length;for(let o=0;o<e;o++)this.graphEdges[o].status=t[o]?"alert":"normal"}checkCrossedGraph(){return!this.checkCrossedEdges().every(t=>!t)}checkCrossedEdges(){const t=this.graphEdges.length;let e=Array(t).fill(!1);for(let o=0;o<t;o++)for(let r=o+1;r<t;r++)this.graphEdges[o].checkNeighbor(this.graphEdges[r])||this.graphEdges[o].checkCrossed(this.graphEdges[r])&&(e[o]=!0,e[r]=!0);return e}culEdgeIntersection(){const t=this.graphEdges.length;let e=[];for(let o=0;o<t;o++)for(let r=o+1;r<t;r++){if(this.graphEdges[o].checkNeighbor(this.graphEdges[r]))continue;const t=this.graphEdges[o].checkCrossed(this.graphEdges[r]);t&&e.push(t)}return e}loop(t){this.updateEdgeStatus();for(const e of this.graphEdges)e.loop(t);this.drawSpark(t);for(const e of this.graphNodes)e.loop(t)}drawSpark(t){const e=this.culEdgeIntersection();for(const t of e){const{x:e,y:o}=t;this.spackRenderer.emit(e,o)}this.spackRenderer.update(t/1e3),this.spackRenderer.draw()}getClosestNode(t,e){let o=1/0,r=null;for(const s of this.graphNodes){const i=s.getDist(t,e);console.log(`${s.id} ${i}`),o>i&&(o=i,r=s)}return r}drawClearedGraph(){console.log("fin")}}},506:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(o(749)),i=r(o(55)),a=r(o(108)),n=r(o(373));e.default=class{constructor(t,e){this.root=t,this.state={settings:{cntNode:-1},result:{timeMs:-1}},this.curPage=new n.default(t),e&&this.goto(e)}goto(t){switch(t){case"title":this.curPage=new s.default(this.root);break;case"game":this.curPage=new i.default(this.root);break;case"result":this.curPage=new a.default(this.root)}this.curPage.display()}}},613:(t,e)=>{function o(t,e){return t+Math.random()*(e-t)}function r(t,e){if(t.startsWith("#")){const o=t.substring(1),r=parseInt(3===o.length?o.split("").map(t=>t+t).join(""):o,16);return`rgba(${r>>16&255},${r>>8&255},${255&r},${e.toFixed(3)})`}return t.replace(/rgba?\(([^)]+)\)/,(t,o)=>{const r=o.split(",").map(t=>t.trim()),[s,i,a]=r;return`rgba(${s},${i},${a},${e.toFixed(3)})`})}Object.defineProperty(e,"__esModule",{value:!0}),e.SparkRenderer=void 0,e.SparkRenderer=class{constructor(){this.sparks=[],this.tmpGradCanvas=null,this.tmpShadowCanvas=null,this.prevTime=-1,this._ctx=void 0,this.sparkStyle={color:"#ffdd00",glow:"rgba(255, 255, 255, 0.95)",count:2,speedMin:15,speedMax:20,lifeMin:.1,lifeMax:.3,drag:.9,width:2,glowRadius:3,shadowRadius:25,len:8}}set ctx(t){this._ctx=t}emit(t,e){const r=this.sparkStyle;for(let s=0;s<r.count;s++){const s=Math.random()*Math.PI*2,i=o(r.speedMin,r.speedMax);this.sparks.push({x:t,y:e,vx:Math.cos(s)*i,vy:Math.sin(s)*i,t:0,life:o(r.lifeMin,r.lifeMax)})}this._ctx&&this.drawShadow(this._ctx,t,e,r.shadowRadius)}update(t){if(-1==this.prevTime)return void(this.prevTime=t);const e=t-this.prevTime;this.prevTime=t;const o=this.sparkStyle;for(let t=this.sparks.length-1;t>=0;t--){const r=this.sparks[t];r.t+=e,r.t>=r.life?this.sparks.splice(t,1):(r.vx*=o.drag,r.vy*=o.drag,r.x+=r.vx*e,r.y+=r.vy*e)}}draw(){const t=this._ctx;if(!t)throw new Error("描画先が設定されていません");if(0===this.sparks.length)return;const e=this.sparkStyle;t.save(),t.globalCompositeOperation="lighter",t.lineCap="round",t.lineWidth=e.width;for(const o of this.sparks){const s=1-o.t/o.life,i=Math.min(e.len,60*o.life),a=o.x-(0!==o.vx||0!==o.vy?o.vx/(Math.hypot(o.vx,o.vy)||1)*i:0),n=o.y-(0!==o.vy||0!==o.vx?o.vy/(Math.hypot(o.vx,o.vy)||1)*i:0);t.strokeStyle=r(e.color,.8*s),t.beginPath(),t.moveTo(a,n),t.lineTo(o.x,o.y),t.stroke(),this.drawGlow(t,o.x,o.y,e.glowRadius,Math.min(1,1.2*s))}t.restore()}drawGlow(t,e,o,r,s){if(!this.tmpGradCanvas){const t=document.createElement("canvas");t.width=t.height=64;const e=t.getContext("2d"),o=e.createRadialGradient(32,32,0,32,32,24);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=o,e.beginPath(),e.arc(32,32,24,0,2*Math.PI),e.fill(),this.tmpGradCanvas=t}t.save(),t.globalCompositeOperation="lighter",t.globalAlpha=s,t.drawImage(this.tmpGradCanvas,e-r,o-r,2*r,2*r),t.globalAlpha=1,t.restore()}drawShadow(t,e,o,r){if(!this.tmpShadowCanvas){const t=document.createElement("canvas");t.width=t.height=64;const e=t.getContext("2d"),o=e.createRadialGradient(32,32,0,32,32,24);o.addColorStop(0,"rgba(22, 22, 22, 0.8)"),o.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=o,e.beginPath(),e.arc(32,32,24,0,2*Math.PI),e.fill(),this.tmpShadowCanvas=t}t.save(),t.globalCompositeOperation="source-over",t.drawImage(this.tmpShadowCanvas,e-r,o-r,2*r,2*r),t.restore()}}},731:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NeonStopwatch=void 0;class o{constructor(t,e,o,r,s){this.stopwatchStyle={textSize:56,bgColor:"rgba(0, 45, 63, 0.6)",bgStrokeColor:"rgba(81, 238, 255, 0.95)",bgStrokeColorDim:"rgba(0, 229, 255, 0.25)",textColor:"rgba(81, 238, 255, 0.95)",glareColor:"rgba(255,255,255,0.08)",gridColor:"rgba(0, 229, 255, 0.06)"},this.x=e,this.y=o,this.w=r,this.h=s,this.ctx=t,this.off=document.createElement("canvas"),this.off.width=2*r,this.off.height=2*s;const i=this.off.getContext("2d",{alpha:!0});this.offCtx=i}static format(t){const e=Math.floor(t/10)%100,o=Math.floor(t/1e3)%60,r=Math.floor(t/6e4);if(r>99)return["99","99","99"];const s=t=>t<10?"0"+t:""+t;return[s(r),s(o),s(e)]}draw(t,e=performance.now()){const r=this.ctx,{textSize:s,bgColor:i,bgStrokeColor:a,textColor:n}=this.stopwatchStyle,h=this.offCtx,l=this.off.width,d=this.off.height;h.clearRect(0,0,this.off.width,this.off.height),this.drawGrid(h,0,0,l,d,16);const c=Math.min(.45*d,18);this.drawFrame(h,0,0,l,d,c),h.save(),h.font=`400 ${s}px "Quadaptor", ui-monospace, monospace`,h.fillStyle=n;const g=l/2,p=d/2;this.drawTimerDigits(h,o.format(t),g,p,.7*s);const{x:u,y:f,w:m,h:w}=this;r.save(),r.globalCompositeOperation="lighter",r.drawImage(this.off,u,f,m,w),r.restore()}drawGrid(t,e,o,r,s,i){const{gridColor:a}=this.stopwatchStyle;t.save(),t.strokeStyle=a,t.lineWidth=1,t.beginPath();for(let a=Math.floor(e/i)*i;a<e+r;a+=i)t.moveTo(a+.5,o),t.lineTo(a+.5,o+s);for(let a=Math.floor(o/i)*i;a<o+s;a+=i)t.moveTo(e,a+.5),t.lineTo(e+r,a+.5);t.stroke(),t.restore()}drawScanline(t,e,o,r,s,i){t.save(),t.beginPath(),this.drawFrame(t,e,o,r,s,Math.min(.45*s,18)),t.clip();const a=t.createLinearGradient(0,o,0,o+s);a.addColorStop(0,"rgba(255,255,255,0.00)"),a.addColorStop(.15,"rgba(255,255,255,0.02)"),a.addColorStop(.5,"rgba(255,255,255,0.06)"),a.addColorStop(.85,"rgba(255,255,255,0.02)"),a.addColorStop(1,"rgba(255,255,255,0.00)");const n=i/1e3*20,h=Math.sin(n)*(.1*s);t.globalCompositeOperation="lighter",t.fillStyle=a,t.fillRect(e,o+h,r,s),t.restore()}drawTopGlare(t,e,o,r,s){const{glareColor:i}=this.stopwatchStyle;t.save(),this.drawFrame(t,e,o,r,s,Math.min(.45*s,18)),t.clip();const a=Math.max(2,.16*s),n=t.createLinearGradient(0,o,0,o+a);n.addColorStop(0,i),n.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=n,t.fillRect(e,o,r,a),t.restore()}drawFrame(t,e,o,r,s,i){const{bgColor:a,bgStrokeColor:n,bgStrokeColorDim:h}=this.stopwatchStyle;t.save(),this.drawRoundRect(t,e+4,o+4,r-8,s-8,i),t.strokeStyle=h,t.lineWidth=3,t.stroke(),this.drawRoundRect(t,e+8,o+8,r-16,s-16,i),t.fillStyle=a,t.fill(),t.strokeStyle=n,t.lineWidth=4,t.stroke(),this.drawRoundRect(t,e+20,o+20,r-40,s-40,i-6),t.strokeStyle=h,t.lineWidth=.75,t.stroke(),t.restore()}drawRoundRect(t,e,o,r,s,i){const a=Math.min(i,r/2,s/2);t.beginPath(),t.moveTo(e+a-2,o-2),t.lineTo(e+r-a,o-2),t.arcTo(e+r+2,o-2,e+r+2,o+2+a,a),t.lineTo(e+r+2,o+s+2-a),t.arcTo(e+r+2,o+s+2,e+r+2-a,o+s+2,a),t.lineTo(e+a,o+s+2),t.arcTo(e-2,o+s+2,e-2,o+s+2-a,a),t.lineTo(e-2,o-2+a),t.arcTo(e-2,o-2,e-2+a,o-2,a)}drawTimerDigits(t,e,o,r,s){const i=t.measureText(":").width,a=t.measureText(".").width,n=6*s+i+a;t.save(),t.textBaseline="middle",t.textAlign="center";let h=o-n/2+s/2;t.fillText(e[0][0],h,r),h+=s,t.fillText(e[0][1],h,r),h+=(s+i)/2,t.fillText(":",h,r),h+=(s+i)/2,t.fillText(e[1][0],h,r),h+=s,t.fillText(e[1][1],h,r),h+=(s+a)/2,t.fillText(".",h,r),h+=(s+a)/2,t.fillText(e[2][0],h,r),h+=s,t.fillText(e[2][1],h,r),t.restore()}}e.NeonStopwatch=o},749:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=o(267),i=r(o(373));class a extends i.default{constructor(t){super(t)}display(){this.root.innerHTML='\n            <section class="screen-title" data-screen>\n                <h1>Planarity Challenge</h1>\n                <p>\n                    ランダムに生成された <strong>平面的グラフ</strong> を乱した配置から開始します。<br />\n                    頂点をドラッグして <em>辺の交差をなくす</em> ことを目指しましょう。\n                </p>\n\n                <form id="title-form" autocomplete="off">\n                    <fieldset>\n                        <legend>ゲーム設定</legend>\n\n                        <label for="vcount">\n                            頂点数\n                            <input id="vcount" type="number" min="6" max="60" value="10" required />\n                        </label>\n                    </fieldset>\n\n                    <button type="button" id="btn_gamestart">ゲーム開始</button>\n                </form>\n\n                <details id="howto">\n                    <summary>遊び方</summary>\n                    <ul>\n                        <li>頂点をドラッグして位置を調整します。</li>\n                        <li>辺どうしの交差数が <strong>0</strong> になればクリアです。</li>\n                        <li>常に「元は平面的なグラフ」を使用しますが、配置を乱して開始します。</li>\n                    </ul>\n                </details>\n            </section>',document.getElementById("btn_gamestart").addEventListener("click",()=>{const t=Number(document.getElementById("vcount").value);s.manager.state.settings.cntNode=t,s.manager.goto("game")})}}e.default=a}},e={};!function o(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,o),i.exports}(267)})();